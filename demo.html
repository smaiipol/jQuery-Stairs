<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.slim.min.js"></script>
	<link rel="stylesheet" href="https://cdn.bootcss.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css" >
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<style>
		body{
			padding: 0 20px;
		}
		section{
			height: 100vh;
			border: 1px solid gray;
		}
		section.current{
			background: gray;
		}
	</style>
</head>
<body>
	<section class="current">1</section>
	<section>2</section>
	<section>3</section>
	<section>4</section>
	<section>5</section>
	<section>6</section>
	<script>
		jQuery(window).scroll(function (event) { //滚动事件
			var iWindowScrollTop = jQuery(window).scrollTop(); //获取滚动条高度
			console.clear();
			jQuery('section').each(function(){
				var iThisOffsetTop = jQuery(this).offset().top; //当前距离文档顶部高度
				var iWindowHeight = jQuery(window).height(); //浏览器视口高度
				var iThisTop = iThisOffsetTop - iWindowScrollTop; //相减得到距离视口高度
				console.log(jQuery(this).index() + 1 ,iThisTop, iWindowHeight / 2,iThisTop >=0 && iThisTop < iWindowHeight / 2);
				if (iThisTop >=0 && iThisTop < iWindowHeight / 2 ) {
					// 当前div距离浏览器视口高度 >= 0 且 当前div距离浏览器视口高度 < 浏览器视口高度
					jQuery('section').removeClass('current');
					jQuery(this).addClass('current');
				}

				// if (iThisTop < iWindowHeight / 2 ) {
				// 	jQuery('section').removeClass('current');
				// 	jQuery(this).addClass('current');
				// }
				// 直接这样写也可以但是上面的更有逻辑性

				// 或者用jQuery filter也可以实现
			})
		});
	</script>
</body>
</html>